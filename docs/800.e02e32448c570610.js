"use strict";(self.webpackChunksmart_hospital=self.webpackChunksmart_hospital||[]).push([[800],{1800:(bt,P,g)=>{g.r(P),g.d(P,{PatientModule:()=>ft});var d=g(9808),Z=g(0),O=g(1820),t=g(5e3),b=g(6325);function M(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",e.date," "),t.xp6(2),t.hij(" ",e.prediction," "),t.xp6(2),t.hij(" ",e.precentage," ")}}let A=(()=>{class i{constructor(e){this.service=e,this.data=[]}ngOnInit(){setInterval(this.getdatat,3e4)}getdatat(){this.service.showecg().subscribe(e=>{this.data.length<=100?this.data.push(e):this.data=[]})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ecg"]],decls:13,vars:1,consts:[[1,"fluid-container"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"td"),t._uU(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8,"prediction"),t.qZA(),t.TgZ(9,"td"),t._uU(10,"precentage"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,M,7,3,"tr",3),t.qZA()()()()),2&e&&(t.xp6(12),t.Q6J("ngForOf",n.data))},directives:[d.sg],styles:[".fluid-container[_ngcontent-%COMP%]{min-height:100vh}.table-responsive[_ngcontent-%COMP%]{width:700px;height:300px;overflow:auto;margin:2rem auto;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#cfd0db;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black}"]}),i})();var f=g(3583);function q(i,s){1&i&&t._UZ(0,"div")}function I(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",13),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).getreportInfo(a)}),t._UZ(16,"img",14),t.qZA(),t.TgZ(17,"td")(18,"button",15),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).getPrescriptionsInfo(a)}),t._uU(19,"Prescriptions"),t.qZA()(),t.TgZ(20,"td")(21,"button",15),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).getTestsInfo(a)}),t._uU(22,"Tests"),t.qZA()(),t.TgZ(23,"td")(24,"button",15),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).getscanInfo(a)}),t._uU(25,"Scans"),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(t.xi3(3,6,e.enterDate,"shortDate")),t.xp6(3),t.Oqu(t.xi3(6,9,e.discahrgeDate,"shortDate")),t.xp6(3),t.Oqu(e.roomType),t.xp6(2),t.Oqu(e.floorNumber),t.xp6(2),t.Oqu(e.roomNumber),t.xp6(2),t.Oqu(e.bedNumber)}}function N(i,s){1&i&&t._UZ(0,"div")}function U(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(4).getPrescriptionByPrescriptionId(a.prescriptionId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.prescription_Date,"shortDate")," ")}}function y(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"table",19)(2,"thead")(3,"tr")(4,"th",20),t._uU(5,"Prescription"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Date"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,U,6,4,"tr",8),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(9),t.Q6J("ngForOf",e.prescriptions)}}function S(i,s){1&i&&(t._UZ(0,"img",21),t.TgZ(1,"p"),t._uU(2,"You Don't have Prescriptions In this Record"),t.qZA())}function F(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,N,1,0,"div",2),t.YNc(2,y,10,1,"ng-template",null,16,t.W1O),t.YNc(4,S,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.MAs(5),o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.showPrescriptionsflag)("ngIfThen",e)("ngIfElse",n)}}function k(i,s){1&i&&t._UZ(0,"div")}function z(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).getTestId(a.patientTestId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.testDate,"shortDate")," ")}}function D(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"table",22)(2,"thead")(3,"tr")(4,"td",20),t._uU(5,"Test"),t.qZA(),t.TgZ(6,"td"),t._uU(7,"Date"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,z,6,4,"tr",8),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.tests)}}function J(i,s){1&i&&t._UZ(0,"div")}function R(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(3).getScanId(a.patientScanId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.scanDate,"longDate")," ")}}function L(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"table",22)(2,"thead")(3,"tr")(4,"td",20),t._uU(5,"Scan"),t.qZA(),t.TgZ(6,"td"),t._uU(7,"Date"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,R,6,4,"tr",8),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.scans)}}function E(i,s){if(1&i&&(t.TgZ(0,"table",5)(1,"thead")(2,"tr",6)(3,"td",7)(4,"h3"),t._uU(5,"Your Indoor Records"),t.qZA()()(),t.TgZ(6,"tr")(7,"th"),t._uU(8,"Reserving Date"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Discharge Date"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Room Type"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Floor Number"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Room Number"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Bed Number"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Report"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Prescriptions"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Tests"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Scans"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,I,26,12,"tr",8),t.qZA()(),t._UZ(29,"br")(30,"br"),t.YNc(31,F,6,3,"div",9),t.YNc(32,k,1,0,"div",10),t.YNc(33,D,10,1,"ng-template",null,11,t.W1O),t.YNc(35,J,1,0,"div",10),t.YNc(36,L,10,1,"ng-template",null,12,t.W1O)),2&i){const e=t.MAs(34),n=t.MAs(37),o=t.oxw();t.xp6(28),t.Q6J("ngForOf",o.indoorPatientRecords),t.xp6(3),t.Q6J("ngIf",o.showPrescriptionsflag),t.xp6(1),t.Q6J("ngIf",o.showTestsFlag)("ngIfThen",e),t.xp6(3),t.Q6J("ngIf",o.showScansFlag)("ngIfThen",n)}}function Y(i,s){1&i&&(t._UZ(0,"img",21),t.TgZ(1,"p"),t._uU(2,"You Don't have Indoor Records"),t.qZA())}g(2983);let Q=(()=>{class i{constructor(e){this.service=e,this.patientLabIds=[],this.prescriptions=[],this.tests=[],this.scans=[],this.rows2=[],this.indoorPatientRecords=[{patientRecordId:0,discahrgeDate:"",enterDate:"",patientscans:[],patientTests:[],prescriptions:[],roomNumber:0,roomType:"",floorNumber:0,bedNumber:0}],this.length=0,this.showPrescriptionsflag=!1,this.showTestsFlag=!1,this.showScansFlag=!1,this.indoorRecordflag=!1,this.flag=!1}ngOnInit(){localStorage.getItem("userInfo")&&(this.patient=localStorage.getItem("userInfo"),this.patient=JSON.parse(this.patient)),this.service.get("Patient/GetIndoorPatientRecordsByPatientId/"+this.patient.id).subscribe(e=>{this.indoorPatientRecords=e,this.indoorPatientRecords.length>0&&(this.indoorRecordflag=!0,this.flag=!1)})}getreportInfo(e){this.patientReport=[],this.record=this.indoorPatientRecords[e],this.service.get("Patient/GetPatientReport/"+this.patient.id+"/"+this.record.discahrgeDate).subscribe(n=>{this.patientReport=n,this.showReport()})}showReport(){var e=new f.jsPDF("p","mm","a4");e.addImage("assets/hospitallogo.png","png",10,5,20,20),e.setFontSize(10),e.text("Fayoum University Hospital",5,30),e.setFontSize(13),e.text("Patient Name : ",10,50),e.setFontSize(12),e.text(this.patient.firstName+" "+this.patient.lastName,50,50),e.setFontSize(13),e.text("Gender : ",10,60),e.setFontSize(12),e.text(this.patient.gender,50,60),e.setFontSize(13),e.text("Date of Admission : ",10,70);let n=new Date(this.record.enterDate).toLocaleString();e.setFontSize(12),e.text(n,50,70),e.text("Age : ",100,50),e.setFontSize(12),e.text(this.patient.age.toString(),135,50),e.setFontSize(13),e.text("Phone Number : ",100,60),e.setFontSize(12),e.text(this.patient.phoneNumber,135,60),e.text("Exit Date : ",100,70),e.setFontSize(12);let o=new Date(this.record.discahrgeDate).toLocaleString();e.text(o,135,70),e.line(10,80,200,80),e.setFontSize(17),e.setTextColor(19,66,121),e.text("Cause of Admission : ",10,90),e.setFontSize(14),e.setTextColor(0,0,0);var a=e.splitTextToSize(this.patientReport.result.causeOfAdmission,170);e.text(a,15,97),e.line(10,110,200,110),e.setFontSize(17),e.setTextColor(19,66,121),e.text("Recommendations : ",10,120),e.setFontSize(14),e.setTextColor(0,0,0);var l=e.splitTextToSize(this.patientReport.result.recommendation,170);e.text(l,15,127),e.line(10,140,200,140),e.setFontSize(17),e.setTextColor(19,66,121),e.text("Investigations : ",10,150),this.length=160;let c=1;if(this.patientReport.result.testNames.length>0){e.setFontSize(15),e.setTextColor(19,115,115),e.text("Tests Names :  ",15,160);for(let p of this.patientReport.result.testNames)e.setFontSize(12),e.setTextColor(0,0,0),this.length=10*c+160,e.text("- "+p,35,this.length),c+=1,250==this.length&&e.addPage()}let h=1;if(this.patientReport.result.scanNames.length>0){e.setFontSize(15),e.setTextColor(19,115,115),e.text("Scans Names :  ",15,this.length+10);let p=this.length+10;for(let _t of this.patientReport.result.scanNames)e.setFontSize(12),e.setTextColor(0,0,0),this.length=10*h+p,e.text("- "+_t,35,this.length),h+=1,250==this.length&&e.addPage()}e.line(10,this.length+10,200,this.length+10),e.setFontSize(17),e.setTextColor(19,66,121),e.text("Medications : ",10,this.length+20),this.rows2=[];for(let p of this.patientReport.result.lastPrescription.prescription.prescriptionItems)e.setFontSize(40),this.rows2.push([p.medicine_Name,p.medicineType,p.medicine_concentration,p.durarion,p.dose,p.instructions]);if(this.patientReport.result.listOfMedicineNames.length>0)for(let p of this.patientReport.result.listOfMedicineNames)e.setFontSize(40),this.rows2.push([p.medicine_Name,p.medicineType,p.medicine_concentration,p.durarion,p.dose,p.instructions]);e.autoTable(["M.Name","Type","Strength","Duration","Dose","Instructions"],this.rows2,{startX:-10,startY:this.length+30,pageBreak:"avoid",theme:"grid",styles:{overflow:"linebreak",fontSize:14,halign:"center",valign:"middle",margin:{right:50}},columnStyles:{0:{fontStyle:"bold",halign:"center",columnWidth:30},1:{fontStyle:"bold",halign:"center",columnWidth:30},2:{fontStyle:"bold",halign:"center",columnWidth:30},3:{fontStyle:"bold",halign:"center",columnWidth:30},4:{fontStyle:"bold",halign:"center",columnWidth:25},5:{fontStyle:"bold",halign:"center",columnWidth:35}}}),window.open(e.output("bloburl"))}getPrescriptionsInfo(e){this.patientReport=[],this.prescriptions=[],this.record=this.indoorPatientRecords[e],this.prescriptions=this.record.prescriptions,this.showPrescriptionsflag=!0,this.showTestsFlag=!1,this.showScansFlag=!1}getPrescriptionByPrescriptionId(e){this.service.get("Doctor/GetPrescription/"+e).subscribe(n=>{this.prescriptionInfo=n,this.showPrescription()})}showPrescription(){var e=new f.jsPDF("p","mm","a4");e.addImage("assets/hospitallogo.png","png",10,5,20,20),e.setFontSize(10),e.text("Fayoum University Hospital",5,30),e.setFontSize(13),e.text("Patient Name : ",10,40),e.setFontSize(12),e.text(this.patient.firstName+" "+this.patient.lastName,40,40),e.setFontSize(13),e.text("Gender : ",10,50),e.setFontSize(12),e.text(this.patient.gender,40,50),e.setFontSize(13),e.text("Age : ",10,60),e.setFontSize(12),e.text(this.patient.age.toString(),40,60),e.setFontSize(13),e.text("Doctor Name : ",100,40),e.setFontSize(12),e.text(this.prescriptionInfo.doctorFullName,150,40),e.setFontSize(13),e.text("Departement:",100,50),e.setFontSize(12),e.text(this.prescriptionInfo.department,150,50),e.setFontSize(13),e.text("Prescription Date : ",100,60),e.setFontSize(12);let n=new Date(this.prescriptionInfo.prescription.prescription_Date).toLocaleString();e.text(n,150,60),e.line(10,70,200,70),e.addImage("assets/prescriptionicon.png","png",10,75,20,20);var o=["M.Name","Type","Strength","Duration","Dose","Instructions"];this.rows2=[],console.log(this.prescriptionInfo.prescription.prescriptionItems);for(let c of this.prescriptionInfo.prescription.prescriptionItems)e.setFontSize(40),this.rows2.push([c.medicine_Name,c.medicineType,c.medicine_concentration,c.durarion,c.dose,c.instructions]),e.autoTable(o,this.rows2,{startX:-10,startY:100,pageBreak:"avoid",theme:"grid",styles:{overflow:"linebreak",fontSize:14,halign:"center",valign:"middle",margin:{right:50}},columnStyles:{0:{fontStyle:"bold",halign:"center",columnWidth:30},1:{fontStyle:"bold",halign:"center",columnWidth:30},2:{fontStyle:"bold",halign:"center",columnWidth:30},3:{fontStyle:"bold",halign:"center",columnWidth:30},4:{fontStyle:"bold",halign:"center",columnWidth:25},5:{fontStyle:"bold",halign:"center",columnWidth:40}}});let l=this.prescriptionInfo.prescription.prescriptionItems.length;e.setFontSize(20),e.setTextColor(1,50,78),e.text("Diagnosis:",20,10*l+120),e.setFontSize(14),e.text(this.prescriptionInfo.prescription.diagnosis,25,10*l+130),e.autoPrint(),window.open(e.output("bloburl"))}getTestsInfo(e){this.patientReport=[],this.record=this.indoorPatientRecords[e],this.tests=this.record.patientTests,this.showPrescriptionsflag=!1,this.showTestsFlag=!0,this.showScansFlag=!1}getTestId(e){this.service.get("MedicalTest/getPatientTestById/"+e).subscribe(n=>{this.testInfo=n,this.showTest()})}showTest(){var e=new f.jsPDF("p","mm","a4");e.addImage("assets/hospitallogo.png","png",10,5,20,20),e.setFontSize(10),e.text("Fayoum University Hospital",5,30),e.setFontSize(13),e.text("Patient Name : ",10,50),e.setFontSize(12),e.text(this.testInfo.patientName,50,50),e.setFontSize(13),e.text("Gender : ",10,60),e.setFontSize(12),e.text(this.patient.gender,50,60),e.setFontSize(13),e.text("Age : ",10,70),e.setFontSize(12),e.text(this.patient.age.toString(),50,70),e.setFontSize(13),e.text("Doctor Name : ",100,50),e.setFontSize(12),e.text(this.testInfo.doctorName,135,50),e.text("Test Name : ",100,60),e.setFontSize(12),e.text(this.testInfo.testName,135,60),e.text("Test Date : ",100,70),e.setFontSize(12);let n=new Date(this.testInfo.testDate).toLocaleString();e.text(n,135,70),e.line(10,80,200,80),this.rows2=[];for(let l of this.testInfo.numericalDetails)e.setFontSize(40),this.rows2.push([l.testParameterName,l.numericalValue,l.unit,l.min_Range+"-"+l.max_Range]);for(let l of this.testInfo.categoricalDetails)e.setFontSize(40),this.rows2.push([l.testParameterName,l.measuredValue,l.unit,l.normalValue]);e.autoTable(["Paramter","Result","Unit","Reference Value"],this.rows2,{startY:90,headStyles:{fillColor:[1,50,78]},alternateRowStyles:{fillColor:[255,255,255]},styles:{overflow:"linebreak",fontSize:14},columnStyles:{0:{fontStyle:"bold",columnWidth:60},1:{fontStyle:"bold",columnWidth:40},2:{fontStyle:"bold",columnWidth:40},3:{fontStyle:"bold",columnWidth:50}}}),e.autoPrint(),window.open(e.output("bloburl"))}getscanInfo(e){this.patientReport=[],this.record=this.indoorPatientRecords[e],this.scans=this.record.patientscans,this.showPrescriptionsflag=!1,this.showTestsFlag=!1,this.showScansFlag=!0}getScanId(e){this.service.get("MedicalScan/getPatientScanById/"+e).subscribe(n=>{this.scanInfo=n,this.showscan()})}showscan(){let e=new f.jsPDF;for(let l of this.scanInfo.scanImages)e.addImage("data:image/png;base64,"+l,"png",10,10,190,275),e.addPage();e.addImage("assets/fayoum-university.jpg","jpg",15,10,20,15),e.text("university hospital",40,20),e.text("patient name : ",10,40),e.text(this.scanInfo.patientName,50,40),e.text("Gender : ",10,50),e.text(this.patient.gender,50,50),e.text("Age: ",10,60),e.text(this.patient.age.toString(),50,60),e.text("doctor name : ",100,40),e.text(this.scanInfo.doctorName,150,40),e.text("Date : ",100,50),e.text(this.scanInfo.scanDate.substring(0,10),150,50),e.text("ray type : ",100,60),e.text(this.scanInfo.scanName,150,60),e.line(10,70,200,70);for(var n=e.splitTextToSize(this.scanInfo.writtenReport,150),o=80,a=0;a<n.length;a++)o>275&&(o=20,e.addPage()),e.text(n[a],20,o),o+=10;window.open(e.output("bloburl"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-indoor-records"]],decls:7,vars:3,consts:[[1,"fluid-container"],[1,"appoint","table-responsive"],[4,"ngIf","ngIfThen","ngIfElse"],["recordstable",""],["norecords",""],[1,"table","app-table"],[1,"appoint-title"],["colspan","10"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfThen"],["teststable",""],["scanstable",""],[1,"pdf",3,"click"],["src","assets/pdficon.png"],[1,"btn",3,"click"],["prescriptiontable",""],["nopres",""],[1,"table-responsive"],[1,"table","pat-doc-table","table-bordered","border-primary","caption-top"],[1,"pdf"],["src","../assets/no appoint icon.webp",1,"noAppointImg"],[1,"table","table-bordered","border-primary","pat-doc-table"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,q,1,0,"div",2),t.qZA(),t.YNc(3,E,38,6,"ng-template",null,3,t.W1O),t.YNc(5,Y,3,0,"ng-template",null,4,t.W1O),t.qZA()),2&e){const o=t.MAs(4),a=t.MAs(6);t.xp6(2),t.Q6J("ngIf",n.indoorRecordflag)("ngIfThen",o)("ngIfElse",a)}},directives:[d.O5,d.sg],pipes:[d.uU],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fluid-container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex}.appoint[_ngcontent-%COMP%]{width:100%;height:72vh;margin:0 auto;margin-top:1rem;background-color:#fff;border-radius:10px;text-align:center}.table-responsive[_ngcontent-%COMP%]{display:block;overflow-y:auto}.appoint-title[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none;border-bottom-width:0px;font-weight:600}.app-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3b98ce;color:#fff;padding:.5rem 0}.noAppointImg[_ngcontent-%COMP%]{width:100px;height:100px;margin-top:20px}.btn[_ngcontent-%COMP%]{color:#fff;background-color:#030303;padding:2px}.pdf[_ngcontent-%COMP%]{cursor:pointer;padding:8px;width:10px}.pat-doc-table[_ngcontent-%COMP%]{width:25%;margin:auto}.table-header[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#084479}"]}),i})();var j=g(3162);const _=function(i){return{hoverable:i}};let B=(()=>{class i{constructor(e,n){this.route=e,this.service=n,this.appointmentflag=!1,this.inpatientflag=!1,this.profileflag=!0,this.prescriptionflag=!1,this.testflag=!1,this.scanflag=!1,this.appointflag=!1}ngOnInit(){"patient"==localStorage.getItem("userRole")||this.route.navigate(["../home"])}setprofileflag(){this.profileflag=!0,this.appointmentflag=!1,this.inpatientflag=!1,this.prescriptionflag=!1,this.testflag=!1,this.appointflag=!1,this.scanflag=!1}setappointmentflag(){this.profileflag=!1,this.appointmentflag=!0,this.inpatientflag=!1,this.prescriptionflag=!1,this.testflag=!1,this.appointflag=!1,this.scanflag=!1}setinpatientflag(){this.profileflag=!1,this.appointmentflag=!1,this.inpatientflag=!0,this.prescriptionflag=!1,this.testflag=!1,this.appointflag=!1,this.scanflag=!1}setprescriptionflag(){this.profileflag=!1,this.appointmentflag=!1,this.inpatientflag=!1,this.prescriptionflag=!0,this.testflag=!1,this.appointflag=!1,this.scanflag=!1}settestflag(){this.profileflag=!1,this.appointmentflag=!1,this.inpatientflag=!1,this.prescriptionflag=!1,this.testflag=!0,this.appointflag=!1,this.scanflag=!1}setappointflag(){this.profileflag=!1,this.appointmentflag=!1,this.inpatientflag=!1,this.prescriptionflag=!0,this.testflag=!1,this.appointflag=!1,this.scanflag=!1}setscanflag(){this.profileflag=!1,this.appointmentflag=!1,this.inpatientflag=!1,this.prescriptionflag=!1,this.testflag=!1,this.appointflag=!1,this.scanflag=!0}logout(){this.service.logout(),this.route.navigate(["/home"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.F0),t.Y36(j.a))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-patient"]],decls:73,vars:28,consts:[[1,"fluid-container"],[1,"row"],[1,"col-6"],["for","toggle",1,"toggle-label"],[1,"fa-solid","fa-bars"],["src","./assets/hospitallogo.png"],[1,"heading-logo"],[1,"col-4"],["type","checkbox","id","toggle"],[1,"navbar-side"],[1,"hr-nav"],["id","len1",3,"routerLink","ngClass","click"],[1,"icon"],["src","../assets/user.png"],[1,"link"],["src","../assets/presc icon.png"],["src","../assets/test icon.png"],["src","../assets/ray.png"],["id","len2",3,"ngClass","routerLink","click"],["src","../assets/inpatient icon.png"],["src","../assets/appoint icon.png"],["src","../assets/ecg.png"],["id","len4",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"],[1,"page-warpper",2,"background-image","url('../assets/backgroound4.png')"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"label",3),t._UZ(4,"i",4),t.qZA(),t._UZ(5,"img",5),t.TgZ(6,"h4")(7,"span",6),t._uU(8," University Hospital"),t.qZA()()(),t._UZ(9,"div",7),t.qZA(),t.TgZ(10,"main"),t._UZ(11,"input",8),t.TgZ(12,"div",9)(13,"nav")(14,"ul",10)(15,"li")(16,"a",11),t.NdJ("click",function(){return n.setprofileflag()}),t.TgZ(17,"div",12),t._UZ(18,"img",13),t.qZA(),t.TgZ(19,"div",14)(20,"span"),t._uU(21,"Profile"),t.qZA()()()(),t.TgZ(22,"li")(23,"a",11),t.NdJ("click",function(){return n.setprescriptionflag()}),t.TgZ(24,"div",12),t._UZ(25,"img",15),t.qZA(),t.TgZ(26,"div",14)(27,"span"),t._uU(28,"Prescriptions"),t.qZA()()()(),t.TgZ(29,"li")(30,"a",11),t.NdJ("click",function(){return n.settestflag()}),t.TgZ(31,"div",12),t._UZ(32,"img",16),t.qZA(),t.TgZ(33,"div",14)(34,"span"),t._uU(35,"Tests"),t.qZA()()()(),t.TgZ(36,"li")(37,"a",11),t.NdJ("click",function(){return n.setscanflag()}),t.TgZ(38,"div",12),t._UZ(39,"img",17),t.qZA(),t.TgZ(40,"div",14)(41,"span"),t._uU(42,"Scan"),t.qZA()()()(),t.TgZ(43,"li")(44,"a",18),t.NdJ("click",function(){return n.setinpatientflag()}),t.TgZ(45,"div",12),t._UZ(46,"img",19),t.qZA(),t.TgZ(47,"div",14)(48,"span"),t._uU(49,"Indoor Records"),t.qZA()()()(),t.TgZ(50,"li")(51,"a",18),t.NdJ("click",function(){return n.setappointflag()}),t.TgZ(52,"div",12),t._UZ(53,"img",20),t.qZA(),t.TgZ(54,"div",14)(55,"span"),t._uU(56,"Make Appoinment"),t.qZA()()()(),t.TgZ(57,"li")(58,"a",18),t.NdJ("click",function(){return n.setappointflag()}),t.TgZ(59,"div",12),t._UZ(60,"img",21),t.qZA(),t.TgZ(61,"div",14)(62,"span"),t._uU(63,"your heart state"),t.qZA()()()(),t.TgZ(64,"li")(65,"a",22),t.NdJ("click",function(){return n.logout()}),t.TgZ(66,"div",12),t._UZ(67,"i",23),t.qZA(),t.TgZ(68,"div",14)(69,"span"),t._uU(70,"Log Out"),t.qZA()()()()()()(),t.TgZ(71,"div",24),t._UZ(72,"router-outlet"),t.qZA()()()),2&e&&(t.xp6(16),t.Q6J("routerLink","profile")("ngClass",t.VKq(14,_,n.profileflag)),t.xp6(7),t.Q6J("routerLink","prescriptions")("ngClass",t.VKq(16,_,n.prescriptionflag)),t.xp6(7),t.Q6J("routerLink","tests")("ngClass",t.VKq(18,_,n.testflag)),t.xp6(7),t.Q6J("routerLink","scans")("ngClass",t.VKq(20,_,n.scanflag)),t.xp6(7),t.Q6J("ngClass",t.VKq(22,_,n.inpatientflag))("routerLink","indoor-records"),t.xp6(7),t.Q6J("ngClass",t.VKq(24,_,n.appointflag))("routerLink","make-appointment"),t.xp6(7),t.Q6J("ngClass",t.VKq(26,_,n.appointflag))("routerLink","ecg"))},directives:[Z.yS,d.mk,Z.lC],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fluid-container[_ngcontent-%COMP%]{width:100%;display:inline-block}header[_ngcontent-%COMP%]{width:100%;height:8vh;z-index:100000;background-color:#fff;position:fixed;box-shadow:5px 5px 3px #d7ebf385;margin-bottom:.2rem}.col-6[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{height:7vh;display:flex;padding:.3rem 0rem}.col-6[_ngcontent-%COMP%]{width:300px;min-width:300px;max-width:300px}.row[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.logout[_ngcontent-%COMP%]{padding:.5rem}.toggle-label[_ngcontent-%COMP%]{width:60px;height:100%;padding:.5rem 0;text-align:center}.fa-solid[_ngcontent-%COMP%]{font-size:20px;font-weight:200;cursor:pointer;color:#4e2841}.logout[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:red}.fa-gear[_ngcontent-%COMP%]{font-size:15px}.col-6[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:.5rem .3rem}main[_ngcontent-%COMP%]{width:100%;display:flex}main[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.navbar-side[_ngcontent-%COMP%]{width:68px;height:100vh;background-color:#5c92a166;position:fixed;top:8vh;overflow-y:auto}.row1[_ngcontent-%COMP%]{margin-top:-.3rem;margin-left:240px}nav[_ngcontent-%COMP%]{width:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0 auto;display:inline-block}.navbar-side[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:none;width:0}hr[_ngcontent-%COMP%]{width:100%;height:2px;color:gray}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;color:#000}.icon[_ngcontent-%COMP%]{width:60px;text-align:center;padding:.5rem 0}.link[_ngcontent-%COMP%]{width:160px;padding:.7rem .3rem;font-size:20px;font-weight:100;color:#4e2841}.hoverable[_ngcontent-%COMP%]{background-color:#92bad4}.page-warpper[_ngcontent-%COMP%]{width:calc(100% - 68px);background-color:#8080801a;display:block;margin-left:68px;margin-top:8vh}input[type=checkbox][_ngcontent-%COMP%]:checked ~ .navbar-side[_ngcontent-%COMP%]{position:fixed;z-index:2;width:240px;background-color:#5c92a1}input[type=checkbox][_ngcontent-%COMP%]:checked ~ .navbar-side[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:block;padding:1rem;width:100%;color:#fff}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}@media print{.navbar-side[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]{display:none}}"]}),i})();function V(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().show_all_patient_prescriptions_in_pdf(a.prescription.prescriptionId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.Oqu(e.department),t.xp6(2),t.Oqu(e.doctorFullName),t.xp6(2),t.hij(" ",t.xi3(9,3,e.prescription.prescription_Date,"longDate")," ")}}const W=function(i){return{show:i}};let K=(()=>{class i{constructor(e){this.service=e,this.rows2=[],this.showAllPrepflag=!1,this.allPatientPrescriptionsList=[]}ngOnInit(){localStorage.getItem("userInfo")&&(this.patient=localStorage.getItem("userInfo"),this.patient=JSON.parse(this.patient)),this.service.get("Doctor/GetDoctorPrescriptionsForPatient/"+this.patient.id).subscribe(e=>{this.allPatientPrescriptionsList=e})}show_all_patient_prescriptions_in_pdf(e){var n=new f.jsPDF("p","mm","a4");let a=this.allPatientPrescriptionsList.find(p=>p.prescription.prescriptionId==e);console.log(a),n.addImage("assets/hospitallogo.png","png",10,5,20,20),n.setFontSize(10),n.text("Fayoum University Hospital",5,30),n.setFontSize(13),n.text("Patient Name : ",10,50),n.setFontSize(12),n.text(this.patient.firstName+" "+this.patient.lastName,50,50),n.setFontSize(13),n.text("Gender : ",10,60),n.setFontSize(12),n.text(this.patient.gender,50,60),n.setFontSize(13),n.text("Age : ",10,70),n.setFontSize(12),n.text(this.patient.age.toString(),50,70),n.setFontSize(13),n.text("Doctor Name : ",100,40),n.setFontSize(12),n.text(a.doctorFullName,150,40),n.setFontSize(13),n.text("Departement:",100,50),n.setFontSize(12),n.text(a.department,150,50),n.setFontSize(13),n.text("Prescription Date : ",100,60),n.setFontSize(12);let l=new Date(a.prescription.prescription_Date).toLocaleString();n.text(l,150,60),n.setFontSize(13),n.text("Re-Appoinment Date: ",100,70),n.setFontSize(12);let c=new Date(a.prescription.re_appointement_date).toLocaleString();n.text(c,150,70),n.line(10,80,200,80),n.addImage("assets/prescriptionicon.png","png",10,85,20,20);var h=["M.Name","Type","Strength","Duration","Dose","Instructions"];this.rows2=[],console.log(a.prescription.prescriptionItems);for(let p of a.prescription.prescriptionItems)n.setFontSize(40),this.rows2.push([p.medicine_Name,p.medicineType,p.medicine_concentration,p.durarion,p.dose,p.instructions]),n.autoTable(h,this.rows2,{startX:-10,startY:105,pageBreak:"avoid",theme:"grid",styles:{overflow:"linebreak",fontSize:14,halign:"center",valign:"middle",margin:{right:50}},columnStyles:{0:{fontStyle:"bold",halign:"center",columnWidth:30},1:{fontStyle:"bold",halign:"center",columnWidth:30},2:{fontStyle:"bold",halign:"center",columnWidth:30},3:{fontStyle:"bold",halign:"center",columnWidth:30},4:{fontStyle:"bold",halign:"center",columnWidth:25},5:{fontStyle:"bold",halign:"center",columnWidth:40}}});let C=a.prescription.prescriptionItems.length;n.setFontSize(20),n.setTextColor(1,50,78),n.text("Diagnosis:",20,10*C+120),n.setFontSize(15),n.setTextColor(0,0,0),n.text(a.prescription.diagnosis,25,10*C+130),n.autoPrint(),window.open(n.output("bloburl"))}set_show_all_prep_flag(){this.showAllPrepflag=!this.showAllPrepflag}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-prescriptions"]],decls:24,vars:4,consts:[[1,"fluid-container"],[1,"inner-container"],[1,"prep-row"],[1,"row","justify-content-md-center"],["type","button","data-toggle","collapse","data-target","#show-prep",1,"btn",3,"click"],["for","shoose-prep",1,"form-lable"],[1,"fa-solid","fa-prescription","mx-2"],["id","show-prep",1,"collapse",3,"ngClass"],[1,"card","w-1000"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"pdf"],[4,"ngFor","ngForOf"],[1,"pdf",3,"click"],["src","assets/pdficon.png"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.set_show_all_prep_flag()}),t.TgZ(5,"label",5),t._UZ(6,"i",6),t._uU(7,"Your Prescriptions "),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15,"Prescription"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Clinic Name"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Doctor Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Date"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,V,10,6,"tr",12),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.Q6J("ngClass",t.VKq(2,W,n.showAllPrepflag)),t.xp6(15),t.Q6J("ngForOf",n.allPatientPrescriptionsList))},directives:[d.mk,d.sg],pipes:[d.uU],styles:[".fa-file-pdf[_ngcontent-%COMP%]{margin:2px}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.prep-row[_ngcontent-%COMP%]{padding:20px 30px 30px 0}.pdf[_ngcontent-%COMP%]{cursor:pointer;padding:8px;width:10px}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}th[_ngcontent-%COMP%]{width:25%}.btn[_ngcontent-%COMP%]{font-size:20px;background-color:#3f828d;padding:.3rem 1rem;color:#fff;width:30%}.prep[_ngcontent-%COMP%]{width:100%;height:20vh}table[_ngcontent-%COMP%]{text-align:center}.pat-doc-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:25%}@media (max-width:600px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 0}}@media (max-width:400px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 30px}}"]}),i})();var r=g(3075);function G(i,s){1&i&&t._UZ(0,"div")}function H(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",79),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,l=o.index;return t.oxw(2).cancelAppoinment(a,l)}),t._UZ(14,"i",80),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.patientName),t.xp6(2),t.Oqu(e.doctorName),t.xp6(2),t.Oqu(e.complain),t.xp6(2),t.Oqu(t.xi3(9,5,e.appointmentDate,"mediumDate")),t.xp6(3),t.Oqu(e.slotTime)}}function $(i,s){1&i&&t._UZ(0,"div")}function X(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",81),t._UZ(1,"br"),t.TgZ(2,"strong"),t._uU(3,"Are you sure that you want to cancel your Appoinment With: "),t.qZA(),t.TgZ(4,"pre"),t._uU(5,"Doctor Name:"),t.TgZ(6,"strong"),t._uU(7),t.qZA()(),t.TgZ(8,"pre"),t._uU(9,"Date:       "),t.TgZ(10,"strong"),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"pre"),t._uU(14,"Time:       "),t.TgZ(15,"strong"),t._uU(16),t.qZA()(),t.TgZ(17,"button",82),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).ensureCancelAppoint()}),t._uU(18,"Sure"),t.qZA(),t.TgZ(19,"button",83),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t._uU(20,"Cancel"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.Oqu(e.deletedApp.doctorName),t.xp6(4),t.Oqu(t.xi3(12,3,e.deletedApp.appointmentDate,"mediumDate")),t.xp6(5),t.Oqu(e.deletedApp.slotTime)}}function tt(i,s){if(1&i&&(t.TgZ(0,"table",73)(1,"thead")(2,"tr",74)(3,"td",75),t._uU(4,"Your Appointments"),t.qZA()(),t.TgZ(5,"tr")(6,"th"),t._uU(7,"Patient Name"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Doctor Name"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Complaint"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Date"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Time"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Option"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,H,15,8,"tr",76),t.qZA(),t.YNc(20,$,1,0,"div",77),t.YNc(21,X,21,6,"ng-template",null,78,t.W1O),t.qZA()),2&i){const e=t.MAs(22),n=t.oxw();t.xp6(19),t.Q6J("ngForOf",n.appointment),t.xp6(1),t.Q6J("ngIf",n.deleteMess)("ngIfThen",e)}}function et(i,s){1&i&&(t._UZ(0,"img",84),t.TgZ(1,"p"),t._uU(2,"No Appointments Today"),t.qZA())}const T=function(i){return{show:i}},u=function(i){return{"is-invalid":i}},x=function(i){return{successshow:i}},v=function(i){return{errorshow:i}};let w=(()=>{class i{constructor(e){this.service=e,this.appointflag=!1,this.updateflag=!1,this.today=new Date,this.index=0,this.appointment=[],this.deleteMess=!1,this.numOfAppoinments=0,this.numOfIndoorRec=0,this.submitted=!1,this.nationalidflag=!1,this.successflag=!1,this.errorflag=!1,this.passwordflag=!1,this.patientInfo=new r.cw({username:new r.NI("",[r.kI.required,r.kI.pattern("[a-zA-Z0-9'-'s]*")]),fname:new r.NI("",[r.kI.required,r.kI.pattern("[a-zA-Z ]+"),r.kI.minLength(3),r.kI.maxLength(10)]),lname:new r.NI("",[r.kI.required,r.kI.pattern("[a-zA-Z ]+"),r.kI.minLength(6)]),nid:new r.NI("",[r.kI.required,r.kI.pattern("^(2|3)[0-9]{6}(230)[0-9]{4}$"),r.kI.minLength(14),r.kI.maxLength(14)]),gender:new r.NI("",[r.kI.required]),age:new r.NI("",[r.kI.min(1),r.kI.max(90)]),mail:new r.NI("",[r.kI.email]),bloodtype:new r.NI("",[r.kI.required]),phonenumber:new r.NI("",[r.kI.required,r.kI.pattern("^(010|011|012|015)[0-9]{8}$"),r.kI.maxLength(11),r.kI.minLength(11)]),address:new r.NI("")}),this.userpassword=new r.cw({password:new r.NI("",[r.kI.required,r.kI.minLength(8)])})}ngOnInit(){localStorage.getItem("userInfo")&&(this.patient=localStorage.getItem("userInfo"),this.patient=JSON.parse(this.patient),this.srcimage="https://smarthospital20220729232305.azurewebsites.net/"+this.patient.imageName+"?t="+(new Date).getTime()),this.service.get("Appointment/GetAppointmentsByPatientId/"+this.patient.id).subscribe(e=>{this.appointment=e,this.numOfAppoinments=this.appointment.length,this.numOfAppoinments>0&&(this.appointflag=!0)}),this.service.get("Patient/GetIndoorPatientRecordsByPatientId/"+this.patient.id).subscribe(e=>{this.numOfIndoorRec=e.length})}cancelAppoinment(e,n){this.deleteMess=!0,this.deletedApp=e,this.index=n}ensureCancelAppoint(){this.service.delete("Appointment/CancelAppointment/"+this.appointment[this.index].appointmentId).subscribe(e=>{},e=>{this.appointment.splice(this.index,1),this.numOfAppoinments=this.appointment.length})}get patientFName(){return this.patientInfo.controls.fname}get patientLName(){return this.patientInfo.controls.lname}get patientNid(){return this.patientInfo.controls.nid}get patientAge(){return this.patientInfo.controls.age}get patientUserName(){return this.patientInfo.controls.username}get patientGender(){return this.patientInfo.controls.gender}get patientMail(){return this.patientInfo.controls.mail}get patientPassword(){return this.patientInfo.controls.password}get patientPhone(){return this.patientInfo.controls.phonenumber}get patientAddress(){return this.patientInfo.controls.address}get patientBloodType(){return this.patientInfo.controls.bloodtype}get patientpassword(){return this.userpassword.controls.password}openmodel(){this.patientInfo.patchValue({fname:this.patient.firstName,lname:this.patient.lastName,nid:this.patient.nationalId,username:this.patient.userName,gender:this.patient.gender,age:this.patient.age,mail:this.patient.mail,bloodtype:this.patient.bloodType,phonenumber:this.patient.phoneNumber,address:this.patient.address}),this.updateflag=!0}close(){this.updateflag=!1,this.deleteMess=!1}update(){if(this.submitted=!0,this.patientInfo.valid){let e=this.patient;e.firstName=this.patientFName.value,e.lastName=this.patientLName.value,e.patientage=parseInt(this.patientAge.value),e.nationalId=String(this.patientNid.value),e.bloodType=this.patientBloodType.value,e.phoneNumber=this.patientPhone.value,e.address=this.patientAddress.value,e.gender=this.patientGender.value,e.userName=this.patientUserName.value,e.mail=this.patientMail.value,this.service.update("Patient/update",e).subscribe(n=>{this.successflag=!0,setTimeout(()=>{this.successflag=!1,this.submitted=!1,this.userpassword.reset(),this.patient=n,this.patient.imageName=n.image,this.patient.image=null,this.patient.password=null,delete this.patient.passwordHash,delete this.patient.passwordSalt,localStorage.removeItem("userInfo"),localStorage.setItem("userInfo",JSON.stringify(this.patient))},1e3)},n=>{this.errorflag=!0,setTimeout(()=>{this.errorflag=!1,this.submitted=!1},1e3)})}}openpassowordmodel(){this.passwordflag=!this.passwordflag}updatepassword(){if(this.submitted=!0,this.userpassword.valid){let e=this.patient;e.password=this.patientpassword.value,this.service.update("patient/update",e).subscribe(n=>{this.successflag=!0,setTimeout(()=>{this.successflag=!1,this.submitted=!1,this.userpassword.reset()},1e3)},n=>{this.errorflag=!0,setTimeout(()=>{this.errorflag=!1,this.submitted=!1},1e3)})}}uploadfile(e){this.getBase64(e).then(n=>{this.image=n,this.image=this.image.split(",").pop();let o=this.patient;o.image=this.image,this.service.update("patient/update",o).subscribe(a=>{delete a.passwordSalt,delete a.passwordHash,a.imageName=a.image,a.image=null,a.role=null,a.password=null,this.patient=a,localStorage.removeItem("userInfo"),localStorage.setItem("userInfo",JSON.stringify(this.patient)),this.srcimage="https://smarthospital20220729232305.azurewebsites.net/"+this.patient.imageName+"?t="+(new Date).getTime()})})}getBase64(e){return new Promise((n,o)=>{const a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=()=>{n(a.result)},a.onerror=l=>o(l)})}validationntionalid(e){let n=e.target.value;this.nationalidflag=parseInt(n.substring(1,3))>22&&parseInt(n.substring(3,5))<13&&parseInt(n.substring(3,5))>0&&parseInt(n.substring(5,7))<=31&&parseInt(n.substring(5,7))>0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-profile"]],decls:205,vars:87,consts:[[1,"fluid-container"],[1,"sec-info"],[1,"photo"],[1,"col1"],[3,"src"],[1,"col2"],["title","change password",1,"fas","fa-edit",2,"color","green","padding","0.2rem 0","cursor","pointer",3,"click"],[1,"col3"],[1,"col3-title"],[1,"col4"],["type","file","id","actual-btn","hidden","",3,"change"],["for","actual-btn","id","actual-btn"],[1,"main-info"],[1,"info-col1"],[1,"fas","fa-edit",3,"click"],[1,"main"],[1,"statistics"],[1,"row"],[1,"col-md-6","col-sm-12"],["src","../assets/appoint icon.png",1,"icon"],["src","../assets/inpatient icon.png",1,"icon"],[1,"appoint","table-responsive"],[4,"ngIf","ngIfThen","ngIfElse"],["appointtable",""],["noappointimg",""],["tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","d-flex","align-items-center","justify-content-center",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"upddate-form",3,"formGroup","ngSubmit"],[1,"col-5"],["for","patientfname",1,"form-lable"],["type","text","name","fname","id","patientfname","formControlName","fname",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","patientlname",1,"form-lable"],["type","text","name","lname","id","patientlname","formControlName","lname",1,"form-control",3,"ngClass"],["for","patientuname",1,"form-lable"],["type","text","name","patientuname","id","patientuname","formControlName","username",1,"form-control",3,"value","ngClass"],["for","nid",1,"form-lable"],["type","number","name","nid","id","nid","formControlName","nid",1,"form-control",3,"ngClass"],["for","age",1,"form-lable"],["type","number","name","Date-of-Birth","id","Date-of-Birth","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["type","tel","name","phone","id","phone","formControlName","phonenumber",1,"form-control",3,"ngClass"],["for","Email",1,"form-lable"],["type","email","name","Email","id","Email","formControlName","mail",1,"form-control",3,"ngClass"],["for","gender",1,"form-lable"],["id","gender","formControlName","gender",1,"form-control",3,"ngClass"],["vlaue","female"],["value","male"],["for","bloodtype",1,"form-lable"],["id","bloodtype","formControlName","bloodtype",1,"form-control",3,"ngClass"],["vlaue","A+"],["value","A-"],["vlaue","B+"],["value","B-"],["vlaue","AB+"],["value","AB-"],["vlaue","O+"],["value","O-"],["for","Address",1,"form-lable"],["type","text","name","Address","id","Address","formControlName","address",1,"form-control"],[1,"row1"],["type","submit",1,"update_btn"],["role","alert",1,"alert","alert-success","alert-dismissible","sucessmes",3,"ngClass"],["role","alert",1,"alert","alert-danger","alert-dismissible","errormes",3,"ngClass"],[1,"row","justify-content-center"],["for","fname",1,"form-lable"],["type","text","name","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"table","app-table"],[1,"appoint-title"],["colspan","6"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen"],["deletes",""],[1,"btn","canel-btn",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["role","alert",1,"alert","alert-warning","alert-dismissible"],["type","button",1,"btn","delete-btn",3,"click"],["type","button",1,"btn","cancel-btn",3,"click"],["src","../assets/no appoint icon.webp",1,"noAppointImg"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table")(4,"tr")(5,"td",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"tr")(8,"td",5),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td"),t._uU(12,"******* "),t.TgZ(13,"i",6),t.NdJ("click",function(){return n.openpassowordmodel()}),t.qZA()()(),t.TgZ(14,"tr")(15,"td",7)(16,"span",8),t._uU(17,"Age:"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()()(),t.TgZ(20,"tr")(21,"td",9)(22,"input",10),t.NdJ("change",function(a){return n.uploadfile(a)}),t.qZA(),t.TgZ(23,"label",11),t._uU(24,"Change Image"),t.qZA()()()()(),t.TgZ(25,"div",12)(26,"table")(27,"tr")(28,"th"),t._uU(29,"Information"),t.qZA(),t.TgZ(30,"td",13)(31,"i",14),t.NdJ("click",function(){return n.openmodel()}),t.qZA()()(),t.TgZ(32,"tr")(33,"th"),t._uU(34,"userName"),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.qZA()(),t.TgZ(37,"tr")(38,"th"),t._uU(39,"Gender"),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA()(),t.TgZ(42,"tr")(43,"th"),t._uU(44,"Blood Type"),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.qZA()(),t.TgZ(47,"tr")(48,"th"),t._uU(49,"phone Number"),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.qZA()(),t.TgZ(52,"tr")(53,"th"),t._uU(54,"E-mail"),t.qZA(),t.TgZ(55,"td"),t._uU(56),t.qZA()(),t.TgZ(57,"tr")(58,"th"),t._uU(59,"Address"),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.qZA()()()()(),t.TgZ(62,"div",15)(63,"div",16)(64,"div",17)(65,"div",18),t._UZ(66,"img",19),t.TgZ(67,"h3"),t._uU(68,"Your Comming Appointments "),t.qZA(),t.TgZ(69,"span"),t._uU(70),t.qZA()(),t.TgZ(71,"div",18),t._UZ(72,"img",20),t.TgZ(73,"h3"),t._uU(74,"Your Indoor Records"),t.qZA(),t.TgZ(75,"span"),t._uU(76),t.qZA()()()(),t.TgZ(77,"div",21),t.YNc(78,G,1,0,"div",22),t.qZA()()(),t.YNc(79,tt,23,3,"ng-template",null,23,t.W1O),t.YNc(81,et,3,0,"ng-template",null,24,t.W1O),t.TgZ(83,"div",25)(84,"div",26)(85,"div",27)(86,"div",28)(87,"h3",29),t._uU(88,"Update Profile"),t.qZA(),t.TgZ(89,"button",30),t.NdJ("click",function(){return n.close()}),t._UZ(90,"span",31),t.qZA()(),t.TgZ(91,"div",32)(92,"form",33),t.NdJ("ngSubmit",function(){return n.update()}),t.TgZ(93,"div",17)(94,"div",34)(95,"label",35),t._uU(96,"First Name"),t.qZA(),t._UZ(97,"input",36),t.TgZ(98,"div",37),t._uU(99),t.qZA()(),t.TgZ(100,"div",34)(101,"label",38),t._uU(102,"Family Name"),t.qZA(),t._UZ(103,"input",39),t.TgZ(104,"div",37),t._uU(105),t.qZA()(),t.TgZ(106,"div",34)(107,"label",40),t._uU(108,"User Name"),t.qZA(),t._UZ(109,"input",41),t.TgZ(110,"div",37),t._uU(111),t.qZA()(),t.TgZ(112,"div",34)(113,"label",42),t._uU(114,"National id"),t.qZA(),t._UZ(115,"input",43),t.TgZ(116,"div",37),t._uU(117),t.qZA()(),t.TgZ(118,"div",34)(119,"label",44),t._uU(120,"Age"),t.qZA(),t._UZ(121,"input",45),t.TgZ(122,"div",37),t._uU(123),t.qZA()(),t.TgZ(124,"div",34)(125,"label",46),t._uU(126,"phone Number"),t.qZA(),t._UZ(127,"input",47),t.TgZ(128,"div",37),t._uU(129),t.qZA()(),t.TgZ(130,"div",34)(131,"label",48),t._uU(132,"Email"),t.qZA(),t._UZ(133,"input",49),t.TgZ(134,"div",37),t._uU(135),t.qZA()(),t.TgZ(136,"div",34)(137,"label",50),t._uU(138,"gender"),t.qZA(),t.TgZ(139,"select",51)(140,"option",52),t._uU(141,"female"),t.qZA(),t.TgZ(142,"option",53),t._uU(143,"male"),t.qZA()(),t.TgZ(144,"div",37),t._uU(145),t.qZA()(),t.TgZ(146,"div",34)(147,"label",54),t._uU(148,"bloodtype"),t.qZA(),t.TgZ(149,"select",55)(150,"option",56),t._uU(151,"A+"),t.qZA(),t.TgZ(152,"option",57),t._uU(153,"A-"),t.qZA(),t.TgZ(154,"option",58),t._uU(155,"B+"),t.qZA(),t.TgZ(156,"option",59),t._uU(157,"B-"),t.qZA(),t.TgZ(158,"option",60),t._uU(159,"AB+"),t.qZA(),t.TgZ(160,"option",61),t._uU(161,"AB-"),t.qZA(),t.TgZ(162,"option",62),t._uU(163,"O+"),t.qZA(),t.TgZ(164,"option",63),t._uU(165,"O-"),t.qZA()(),t.TgZ(166,"div",37),t._uU(167),t.qZA()(),t.TgZ(168,"div",34)(169,"label",64),t._uU(170,"Address"),t.qZA(),t._UZ(171,"input",65),t.qZA()(),t.TgZ(172,"div",66)(173,"button",67),t._uU(174,"Update"),t.qZA()()()()()(),t.TgZ(175,"div",68)(176,"strong"),t._uU(177,"success !"),t.qZA()(),t.TgZ(178,"div",69),t._uU(179," error! "),t.qZA()(),t.TgZ(180,"div",25)(181,"div",26)(182,"div",27)(183,"div",28)(184,"h3",29),t._uU(185,"Update Password"),t.qZA(),t.TgZ(186,"button",30),t.NdJ("click",function(){return n.openpassowordmodel()}),t._UZ(187,"span",31),t.qZA()(),t.TgZ(188,"div",32)(189,"form",33),t.NdJ("ngSubmit",function(){return n.updatepassword()}),t.TgZ(190,"div",70)(191,"div",34)(192,"label",71),t._uU(193,"New Password"),t.qZA(),t._UZ(194,"input",72),t.TgZ(195,"div",37),t._uU(196),t.qZA()()(),t.TgZ(197,"div",66)(198,"button",67),t._uU(199,"Update"),t.qZA()()()()()(),t.TgZ(200,"div",68)(201,"strong"),t._uU(202,"success !"),t.qZA()(),t.TgZ(203,"div",69),t._uU(204," error! "),t.qZA()()),2&e){const o=t.MAs(80),a=t.MAs(82);t.xp6(6),t.Q6J("src",n.srcimage,t.LSH),t.xp6(3),t.AsE("",n.patient.firstName,"\xa0",n.patient.lastName,""),t.xp6(10),t.Oqu(n.patient.age),t.xp6(17),t.Oqu(n.patient.userName),t.xp6(5),t.Oqu(n.patient.gender),t.xp6(5),t.Oqu(n.patient.bloodType),t.xp6(5),t.Oqu(n.patient.phoneNumber),t.xp6(5),t.Oqu(n.patient.mail),t.xp6(5),t.Oqu(n.patient.address),t.xp6(9),t.Oqu(n.numOfAppoinments),t.xp6(6),t.Oqu(n.numOfIndoorRec),t.xp6(2),t.Q6J("ngIf",n.appointflag)("ngIfThen",o)("ngIfElse",a),t.xp6(5),t.Q6J("ngClass",t.VKq(55,T,n.updateflag)),t.xp6(9),t.Q6J("formGroup",n.patientInfo),t.xp6(5),t.Q6J("ngClass",t.VKq(57,u,n.patientFName.touched&&n.patientFName.invalid||n.submitted&&n.patientFName.invalid)),t.xp6(2),t.HOy(" ",n.patientFName.touched&&n.patientFName.invalid||n.submitted&&n.patientFName.hasError("required")?"This field is reqired":""," ",n.patientFName.touched&&n.patientFName.invalid||n.submitted&&n.patientFName.hasError("pattern")?"character @ # / * etc.. not allowed":""," ",n.patientFName.touched&&n.patientFName.invalid||n.submitted&&n.patientFName.hasError("minlength")?"min length is 3":""," ",n.patientFName.touched&&n.patientFName.invalid||n.submitted&&n.patientFName.hasError("maxlength")?"max length is 10":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(59,u,n.patientLName.touched&&n.patientLName.invalid||n.submitted&&n.patientLName.hasError("required"))),t.xp6(2),t.lnq(" ",n.patientLName.touched&&n.patientLName.invalid||n.submitted&&n.patientLName.hasError("required")?"This field is reqired":""," ",n.patientLName.touched&&n.patientLName.invalid||n.submitted&&n.patientLName.hasError("pattern")?"character @ # / * etc.. not allowed":""," ",n.patientLName.touched&&n.patientLName.invalid||n.submitted&&n.patientLName.hasError("minlength")?"min length is 14":""," "),t.xp6(4),t.s9C("value",n.patient.userName),t.Q6J("ngClass",t.VKq(61,u,n.patientUserName.touched&&n.patientUserName.invalid||n.submitted&&n.patientUserName.hasError("required"))),t.xp6(2),t.AsE(" ",n.patientUserName.touched&&n.patientUserName.invalid||n.submitted&&n.patientUserName.hasError("required")?"This field is reqired":""," ",n.patientUserName.touched&&n.patientUserName.invalid||n.submitted&&n.patientUserName.hasError("pattern")?"character @ # / * etc.. not allowed":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(63,u,n.patientNid.touched&&n.patientNid.invalid||n.submitted&&n.patientNid.hasError("required"))),t.xp6(2),t.AsE(" ",n.patientNid.touched&&n.patientNid.invalid||n.submitted&&n.patientNid.hasError("required")?"This field is reqired":""," ",n.patientNid.touched&&n.patientNid.invalid||n.submitted&&n.patientNid.hasError("pattern")?"national id must be 14 number":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(65,u,n.patientAge.touched&&n.patientAge.invalid||n.submitted&&n.patientAge.hasError("required"))),t.xp6(2),t.lnq(" ",n.patientAge.touched&&n.patientAge.invalid||n.submitted&&n.patientAge.hasError("required")?"This field is reqired":""," ",n.patientAge.touched&&n.patientAge.invalid||n.submitted&&n.patientAge.hasError("minlength")?"age must be between 1 ad 90 year":""," ",n.patientAge.touched&&n.patientAge.invalid||n.submitted&&n.patientAge.hasError("maxlength")?"age must be between 1 ad 90 year":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(67,u,n.patientPhone.touched&&n.patientPhone.invalid||n.submitted&&n.patientPhone.hasError("required"))),t.xp6(2),t.AsE(" ",n.patientPhone.touched&&n.patientPhone.invalid||n.submitted&&n.patientPhone.hasError("required")?"This field is reqired":""," ",n.patientPhone.touched&&n.patientPhone.invalid||n.submitted&&n.patientPhone.hasError("pattern")?"must 11 number and start with 010,011,012 or 015":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(69,u,n.patientMail.touched&&n.patientMail.invalid)),t.xp6(2),t.hij(" ",n.patientMail.touched&&n.patientMail.invalid||n.submitted&&n.patientMail.hasError("mail")?"must in email format ex xx@xxxx.eg or com":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(71,u,n.patientGender.touched&&n.patientGender.invalid||n.submitted&&n.patientGender.hasError("required"))),t.xp6(6),t.hij(" ",n.patientGender.touched&&n.patientGender.invalid||n.submitted&&n.patientGender.hasError("required")?"This field is reqired":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(73,u,n.patientBloodType.touched&&n.patientBloodType.invalid||n.submitted&&n.patientBloodType.hasError("required"))),t.xp6(18),t.hij(" ",n.patientBloodType.touched&&n.patientBloodType.invalid||n.submitted&&n.patientBloodType.hasError("required")?"This field is reqired":""," "),t.xp6(8),t.Q6J("ngClass",t.VKq(75,x,n.successflag)),t.xp6(3),t.Q6J("ngClass",t.VKq(77,v,n.errorflag)),t.xp6(2),t.Q6J("ngClass",t.VKq(79,T,n.passwordflag)),t.xp6(9),t.Q6J("formGroup",n.userpassword),t.xp6(5),t.Q6J("ngClass",t.VKq(81,u,n.patientpassword.touched&&n.patientpassword.invalid||n.submitted&&n.patientpassword.hasError("required"))),t.xp6(2),t.AsE(" ",n.patientpassword.touched&&n.patientpassword.invalid||n.submitted&&n.patientpassword.hasError("required")?"This field is reqired":""," ",n.patientpassword.touched&&n.patientpassword.hasError("minlength")?"min length 8":""," "),t.xp6(4),t.Q6J("ngClass",t.VKq(83,x,n.successflag)),t.xp6(3),t.Q6J("ngClass",t.VKq(85,v,n.errorflag))}},directives:[d.O5,d.sg,d.mk,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV,r.EJ,r.YN,r.Kr],pipes:[d.uU],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fluid-container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex}.sec-info[_ngcontent-%COMP%]{width:350px;margin-top:2vh}.alert-dismissible[_ngcontent-%COMP%]{opacity:1}#actual-btn[_ngcontent-%COMP%]{padding:.4rem;background-color:#85bda8;color:#fff;border-radius:5px}.main[_ngcontent-%COMP%]{width:calc(100% - 350px);margin-top:2vh}.icon[_ngcontent-%COMP%]{width:60px;height:60px}.statistics[_ngcontent-%COMP%], .appoint[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{width:95%;margin:0 auto;justify-content:space-between}.row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{width:45%;background-color:#fff;border-radius:3px;text-align:center;padding:1rem 0}.photo[_ngcontent-%COMP%], .main-info[_ngcontent-%COMP%]{width:300px;margin:0 auto;background-color:#fff;border-radius:5px;text-align:center;padding:1rem}.main-info[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.photo[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:center}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:10px}.col4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:green;color:#fff;border:none;border-radius:5px;padding:.3rem 1rem}.col2[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.col3[_ngcontent-%COMP%]{color:#808080c0}.col3-title[_ngcontent-%COMP%]{padding:0 .3rem}.main-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:left}.main-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .3rem}.appoint[_ngcontent-%COMP%]{width:95%;height:72vh;margin:0 auto;margin-top:1rem;background-color:#fff;border-radius:10px;text-align:center}.table-responsive[_ngcontent-%COMP%]{display:block;overflow-y:auto}.appoint-title[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none;border-bottom-width:0px;font-weight:600}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3b98ce;color:#fff;padding:.5rem 0}.noAppointImg[_ngcontent-%COMP%]{width:100px;height:100px;margin-top:20px}.info-col1[_ngcontent-%COMP%]{float:right;cursor:pointer;color:green}.close[_ngcontent-%COMP%]{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#b63f3f;text-shadow:0 1px 0 #fff;opacity:.5}button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:0;-webkit-appearance:none;appearance:none}a.close.disabled[_ngcontent-%COMP%]{pointer-events:none}.show[_ngcontent-%COMP%]{display:block}@media (max-width:970px){.sec-info[_ngcontent-%COMP%]{width:300px}.main[_ngcontent-%COMP%]{width:calc(100% - 300px)}.photo[_ngcontent-%COMP%], .main-info[_ngcontent-%COMP%]{width:250px}.photo[_ngcontent-%COMP%]{padding:.5rem}.appoint[_ngcontent-%COMP%]{height:61.5vh;margin-bottom:1rem}.main-info[_ngcontent-%COMP%]{padding:0;margin-bottom:1rem}.noAppointImg[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]{width:50px;height:50px}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:10px}.col-md-6[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.alert-dismissible[_ngcontent-%COMP%]{position:fixed;width:25%;padding:.8rem 1rem;top:13rem;left:39%;z-index:900;display:none}.successmes[_ngcontent-%COMP%], .errormes[_ngcontent-%COMP%]{display:none;position:fixed;top:50%}.successshow[_ngcontent-%COMP%], .errorshow[_ngcontent-%COMP%]{display:block}@media (max-width:795px){.fluid-container[_ngcontent-%COMP%]{display:block}.sec-info[_ngcontent-%COMP%]{width:100%;display:flex;padding:0 1rem}.photo[_ngcontent-%COMP%]{width:40%}.photo[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:4rem 0}.main-info[_ngcontent-%COMP%]{width:60%;margin:0 0 0rem 1rem}.main-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .3rem}.main[_ngcontent-%COMP%]{width:100%}}@media (max-width:645px){.sec-info[_ngcontent-%COMP%]{width:100%;display:block}.photo[_ngcontent-%COMP%]{width:100%}.photo[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0}.main-info[_ngcontent-%COMP%]{width:100%;margin:1rem 0 0}.row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{width:100%;margin:1rem 0}}",'.modal-open[_ngcontent-%COMP%]{overflow:hidden}.modal-open[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;display:none;z-index:1050;background-color:#00000073;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:0 auto;pointer-events:none}.fade[_ngcontent-%COMP%]:not(.show){opacity:1}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:transform .3s ease-out;transform:translateY(-50px)}@media (prefers-reduced-motion: reduce){.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:none}}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered[_ngcontent-%COMP%]:before{display:block;height:calc(100vh - 1rem);content:""}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-body[_ngcontent-%COMP%]   .upddate-form[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   .upddate-form[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .update_btn[_ngcontent-%COMP%]{background-color:green;border:none;color:#fff;padding:.5rem 2rem;margin:1rem 0;border-radius:10px;width:100px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:.5rem 1rem;background-color:#85bda8;color:#fff;border-bottom:1px solid #dee2e6;border-top-left-radius:.3rem;border-top-right-radius:.3rem}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:1rem;margin:-1rem -1rem -1rem auto;background-color:transparent;border:none}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:2}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:1rem}']}),i})();function nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().openpdf(a.patientScanId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.Oqu(e.scanName),t.xp6(2),t.Oqu(e.doctorName),t.xp6(2),t.hij(" ",t.xi3(9,3,e.scanDate,"longDate")," ")}}const it=function(i){return{show:i}};let ot=(()=>{class i{constructor(e){this.service=e,this.showAllScanflag=!1,this.scanList=[],this.flag=!0}ngOnInit(){localStorage.getItem("userInfo")&&(this.patient=localStorage.getItem("userInfo"),this.patient=JSON.parse(this.patient)),this.service.get("MedicalScan/getPatientScansByPatientId/"+this.patient.id).subscribe(e=>{this.scanList=e,0==this.scanList.length&&(this.flag=!1)})}set_show_all_scan_flag(){this.showAllScanflag=!0}openpdf(e){let n=this.scanList.find(h=>h.patientScanId==e),o=new f.default;for(let h of n.scanImages)o.addImage("data:image/png;base64,"+h,"png",10,10,190,275),o.addPage();o.addImage("assets/fayoum-university.jpg","jpg",15,10,20,15),o.text("university hospital",40,20),o.text("patient name : ",10,40),o.text(n.patientName,50,40),o.text("Gender : ",10,50),o.text(this.patient.gender,50,50),o.text("Age: ",10,60),o.text(String(this.patient.age),50,60),o.text("doctor name : ",100,40),o.text(n.doctorName,150,40),o.text("Date : ",100,50),o.text(n.scanDate.substring(0,10),150,50),o.text("ray type : ",100,60),o.text(n.scanName,150,60),o.line(10,70,200,70);for(var a=o.splitTextToSize(n.writtenReport,150),l=80,c=0;c<a.length;c++)l>275&&(l=20,o.addPage()),o.text(a[c],20,l),l+=10;window.open(o.output("bloburl"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-scans"]],decls:24,vars:4,consts:[[1,"fluid-container"],[1,"inner-container"],[1,"prep-row"],[1,"row","justify-content-md-center"],["type","button","data-toggle","collapse","data-target","#show-prep",1,"btn",3,"click"],["for","shoose-prep",1,"form-lable"],[1,"fa-solid","fa-flask","mx-2"],["id","show-prep",1,"collapse",3,"ngClass"],[1,"card","w-1000"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"pdf"],[4,"ngFor","ngForOf"],[1,"pdf",3,"click"],["src","assets/pdficon.png"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.set_show_all_scan_flag()}),t.TgZ(5,"label",5),t._UZ(6,"i",6),t._uU(7,"Your Scans "),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15,"Pdf"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Scan Name"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Doctor Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Date"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,nt,10,6,"tr",12),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.Q6J("ngClass",t.VKq(2,it,n.showAllScanflag)),t.xp6(15),t.Q6J("ngForOf",n.scanList))},directives:[d.mk,d.sg],pipes:[d.uU],styles:[".fa-file-pdf[_ngcontent-%COMP%]{margin:2px}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fluid-container[_ngcontent-%COMP%]{width:100%;height:100vh;text-align:center}.table-responsive[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:50vh;overflow:auto}.prep-row[_ngcontent-%COMP%]{padding:20px 30px 30px}.fluid-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.pdf[_ngcontent-%COMP%]{cursor:pointer;padding:8px;width:10px}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}th[_ngcontent-%COMP%]{width:25%}.btn[_ngcontent-%COMP%]{font-size:20px;background-color:#3f828d;padding:.3rem 1rem;color:#fff;width:30%}.prep[_ngcontent-%COMP%]{width:100%;height:20vh}table[_ngcontent-%COMP%]{text-align:center}.pat-doc-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:25%}@media (max-width:600px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 0}}@media (max-width:400px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 30px}}"]}),i})();function at(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().openpdf(a.patientTestId)}),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(4),t.Oqu(e.testName),t.xp6(2),t.Oqu(e.doctorName),t.xp6(2),t.hij(" ",t.xi3(9,3,e.testDate,"longDate")," ")}}const st=function(i){return{show:i}},rt=[{path:"",component:B,children:[{path:"",component:w},{path:"profile",component:w},{path:"prescriptions",component:K},{path:"tests",component:(()=>{class i{constructor(e){this.service=e,this.showAllPrepflag=!1,this.labList=[],this.rows2=[],this.flag=!0}ngOnInit(){localStorage.getItem("userInfo")&&(this.patient=localStorage.getItem("userInfo"),this.patient=JSON.parse(this.patient)),this.service.get("MedicalTest/getPatientTestsByPatientId/"+this.patient.id).subscribe(e=>{this.labList=e,0==this.labList.length&&(this.flag=!1)})}set_show_all_tests_flag(){this.showAllPrepflag=!0}openpdf(e){var n=new f.jsPDF("p","mm","a4");let a=this.labList.find(m=>m.patientTestId==e);n.addImage("assets/hospitallogo.png","png",10,5,20,20),n.setFontSize(10),n.text("Fayoum University Hospital",5,30),n.setFontSize(13),n.text("Patient Name : ",10,50),n.setFontSize(12),n.text(a.patientName,50,50),n.setFontSize(13),n.text("Gender : ",10,60),n.setFontSize(12),n.text(this.patient.gender,50,60),n.setFontSize(13),n.text("Age : ",10,70),n.setFontSize(12),n.text(this.patient.age.toString(),50,70),n.setFontSize(13),n.text("Doctor Name : ",100,50),n.setFontSize(12),n.text(a.doctorName,135,50),n.text("Test Name : ",100,60),n.setFontSize(12),n.text(a.testName,135,60),n.text("Test Date : ",100,70),n.setFontSize(12);let l=new Date(a.testDate).toLocaleString();n.text(l,135,70),n.line(10,80,200,80),this.rows2=[];for(let m of a.numericalDetails)n.setFontSize(50),this.rows2.push([m.testParameterName,m.numericalValue,m.unit,m.min_Range+"-"+m.max_Range]);for(let m of a.categoricalDetails)n.setFontSize(50),this.rows2.push([m.testParameterName,m.measuredValue,m.unit,m.normalValue]);n.autoTable(["Paramter","Result","Unit","Reference Value"],this.rows2,{startY:90,headStyles:{fillColor:[1,50,78]},alternateRowStyles:{fillColor:[255,255,255]},styles:{overflow:"linebreak",fontSize:14},columnStyles:{0:{fontStyle:"bold",columnWidth:60},1:{fontStyle:"bold",columnWidth:40},2:{fontStyle:"bold",columnWidth:40},3:{fontStyle:"bold",columnWidth:50}}}),n.autoPrint(),window.open(n.output("bloburl"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tests"]],decls:24,vars:4,consts:[[1,"fluid-container"],[1,"inner-container"],[1,"prep-row"],[1,"row","justify-content-md-center"],["type","button","data-toggle","collapse","data-target","#show-prep",1,"btn",3,"click"],["for","shoose-prep",1,"form-lable"],[1,"fa-solid","fa-flask","mx-2"],["id","show-prep",1,"collapse",3,"ngClass"],[1,"card","w-1000"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"pdf"],[4,"ngFor","ngForOf"],[1,"pdf",3,"click"],["src","assets/pdficon.png"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.set_show_all_tests_flag()}),t.TgZ(5,"label",5),t._UZ(6,"i",6),t._uU(7,"Your Tests "),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15,"Pdf"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Test Name"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Doctor Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Date"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,at,10,6,"tr",12),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.Q6J("ngClass",t.VKq(2,st,n.showAllPrepflag)),t.xp6(15),t.Q6J("ngForOf",n.labList))},directives:[d.mk,d.sg],pipes:[d.uU],styles:[".fa-file-pdf[_ngcontent-%COMP%]{margin:2px}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fluid-container[_ngcontent-%COMP%]{width:100%;height:100vh;text-align:center}.table-responsive[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:50vh;overflow:auto}.prep-row[_ngcontent-%COMP%]{padding:20px 30px 30px}.fluid-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.pdf[_ngcontent-%COMP%]{cursor:pointer;padding:8px;width:10px}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}th[_ngcontent-%COMP%]{width:25%}.btn[_ngcontent-%COMP%]{font-size:20px;background-color:#3f828d;padding:.3rem 1rem;color:#fff;width:30%}.prep[_ngcontent-%COMP%]{width:100%;height:20vh}table[_ngcontent-%COMP%]{text-align:center}.pat-doc-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:25%}@media (max-width:600px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 0}}@media (max-width:400px){.prep[_ngcontent-%COMP%]{width:100%;height:7vh}.prep-row[_ngcontent-%COMP%]{padding:20px 0 30px}}"]}),i})()},{path:"scans",component:ot},{path:"indoor-records",component:Q},{path:"make-appointment",component:O.j},{path:"ecg",component:A}]}];let lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(rt)],Z.Bz]}),i})();var pt=g(520),dt=g(7423),ct=g(508),gt=g(7122),mt=g(5245),ht=g(7531),ut=g(8567);let ft=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[d.ez,lt,r.u5,r.UX,pt.JF,ut.JX,gt.FA,ht.c,ct.XK,dt.ot,mt.Ps]]}),i})()}}]);
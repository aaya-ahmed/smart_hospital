<img class="wave" src="assets/wave.png">
<img class="wave1" src="assets/login.png">
<div class="fluid-container">
  <div class="login-content">
    <form class="form "  [formGroup]="signup" (ngSubmit)="submit()">
        <img src="assets/Jcf.svg">
        <h2 class="title">Register</h2>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="firstName">First Name</label>
                <input class="form-control" type="text" name="firstName" required id="firstName" formControlName="firstName" required
                [ngClass]="((userfirstnamex.touched&&userfirstnamex.invalid)||(submitted&& userfirstnamex.hasError('required')))
                ? 'is-invalid' : '' || userfirstnamex.hasError('pattern')
                ? 'is-invalid' : '' || userfirstnamex.hasError('minlength') 
                ? 'is-invalid' : '' || userfirstnamex.hasError('maxlength') 
                ? 'is-invalid' : '' || ((userfirstnamex.touched&& !userfirstnamex.invalid))
                ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((userfirstnamex.touched&&userfirstnamex.invalid)||(submitted&& userfirstnamex.hasError('required')))?"This field is reqired":''}}
                    {{userfirstnamex.hasError('minlength')?"Minimum Name length is 3":''}}
                    {{userfirstnamex.hasError('maxlength')?"Maxiumim Name length is 25":''}}
                    {{userfirstnamex.hasError('pattern')?" Only letters are allowed":''}}
                </div>
            </div>
            <div class="col-sm-5">
                <label class="form-lable" for="patientlname">Last Name</label>
                <input class="form-control" type="text" name="patientlname" id="patientlname" formControlName="lastName" 
                [ngClass]="((userlastnamex.touched&&userlastnamex.invalid)||(submitted&& userlastnamex.hasError('required')))
                ? 'is-invalid' : '' || userlastnamex.hasError('pattern')
                ? 'is-invalid' : '' || userlastnamex.hasError('minlength') 
                ? 'is-invalid' : '' || userlastnamex.hasError('maxlength') 
                ? 'is-invalid' : '' || (userlastnamex.touched&&userlastnamex.valid)
                ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((userlastnamex.touched&&userlastnamex.invalid)||(submitted&& userlastnamex.hasError('required')))?"This field is reqired":''}}
                    {{(userlastnamex.hasError('minlength'))?"Minimum Name length is 3":''}}
                    {{(userlastnamex.hasError('maxlength'))?"Maxiumim Name length is 25":''}}
                    {{(userlastnamex.hasError('pattern'))?" Only letters are allowed":''}}
                </div>
            </div>
        </div>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="username">User Name</label>
                <input class="form-control" type="text" name="username" id="username" formControlName="userName" 
                [ngClass]="((usernamex.touched&&usernamex.invalid)||(submitted&& usernamex.hasError('required')))
                ? 'is-invalid' : '' || usernamex.hasError('pattern')
                ? 'is-invalid' : '' || usernamex.hasError('minlength') 
                ? 'is-invalid' : '' || (usernamex.touched&& !usernamex.invalid)
                ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((usernamex.touched&&usernamex.invalid)||(submitted&& usernamex.hasError('required')))?"This field is reqired":''}}
                    {{usernamex.hasError('pattern')?" Only letters and/or numbers are allowed":''}}
                    {{usernamex.hasError('minlength')?"Minumuim length is 5 number/letter ":''}}
                </div>
            </div>
            <div class="col-sm-5">
                <label class="form-lable" for="password">Password</label>
                <input class="form-control" type="password" aria-describedby="password-hint" name="password" formControlName="password" id="password" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required/>
                <div class="invalid-feedback">{{((userpassx?.touched&&userpassx?.invalid) || (submitted && userpassx.errors?.['required']))?"Please Enter your password":''}} 
                {{((userpassx?.touched&&userpassx?.invalid) || (submitted && userpassx.errors?.['minlength'] ))?"min length is 8 characters":''}}
            </div>
            </div>
        </div>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="age">Age</label>
                <input class="form-control" type="text" name="age" id="age" formControlName="age" 
                [ngClass]="((useragex.touched&&useragex.invalid) ||(submitted&& useragex.hasError('required')))
                ? 'is-invalid' : '' || useragex.hasError('pattern')
                ? 'is-invalid' : '' || useragex.hasError('min') 
                ? 'is-invalid' : '' || useragex.hasError('max') 
                ? 'is-invalid' : '' || (useragex.touched&& !useragex.invalid)
                ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((useragex.touched&&useragex.invalid) ||(submitted&& useragex.hasError('required')))?"This field is reqired":''}}
                    {{useragex.hasError('min')?" Can only be between 1 and 150 year ":''}}
                    {{useragex.hasError('max')?"Can only be between 1 and 120 year":''}}
                    {{useragex.hasError('pattern')?"Can only accept numbers between 1 and 120 year":''}}
                </div>   
            </div>
            <div class="col-sm-5">
                <label for="nationalId">National Id:</label>
                <input type="text" id="nationalId" name="nationalId" (change)="validationntionalid($event)" class="form-control" placeholder="Enter your id" formControlName="nationalId"
                [ngClass]="((usernationalidx.touched &&usernationalidx.invalid)||( submitted&& usernationalidx.hasError('required')))
                ? 'is-invalid' : '' || (usernationalidx.hasError('pattern')||!nationalidflag)
                ? 'is-invalid' : '' || usernationalidx.hasError('minlength') 
                ? 'is-invalid' : '' || usernationalidx.hasError('maxlength') 
                ? 'is-invalid' : '' || (usernationalidx.touched&& !usernationalidx.invalid)
                ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((usernationalidx.touched &&usernationalidx.invalid)||( submitted&& usernationalidx.hasError('required')))?"This field is reqired":''}}
                    {{usernationalidx.hasError('minlength')?" Must Contain 14 number ":''}}
                    {{usernationalidx.hasError('maxlength')?"Must Contain 14 number":''}}
                    {{(usernationalidx.hasError('pattern')||!nationalidflag)?" Invalid National ID":''}}
                </div>
            </div>
        </div>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="email">Email</label>
                <input class="form-control" type="email" name="email" id="email" formControlName="mail" 
                [ngClass]=" usermailx.hasError('email')
                ? 'is-invalid' : '' || ((usermailx.touched&&usermailx.invalid)&& !usermailx.invalid)
                ? 'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{usermailx.hasError('email')?"Invalid Email":''}}
                </div>
            </div>
            <div class="col-sm-5">
                <label class="form-lable" for="phone">Phone Number</label>
                <input class="form-control" type="tel" name="phone" id="phone" formControlName="phoneNumber" 
                    [ngClass]="((userphonex.touched&& userphonex.invalid) ||(submitted&& userphonex.hasError('required')))
                    ? 'is-invalid' : '' || userphonex.hasError('pattern')
                    ? 'is-invalid' : '' || userphonex.hasError('minlength') 
                    ? 'is-invalid' : '' || userphonex.hasError('maxlength') 
                    ? 'is-invalid' : '' || (userphonex.touched && !userphonex.invalid)
                    ?  'is-valid' : '' " />
                <div class="invalid-feedback">
                    {{((userphonex.touched&& userphonex.invalid) ||(submitted&& userphonex.hasError('required')))?"This field is reqired":''}}
                    {{userphonex.hasError('minlength')?"Must contain  11 number":''}}
                    {{userphonex.hasError('maxlength')?"Must contain  11 number":''}}
                    {{userphonex.hasError('pattern')?"(Must contain 11 number starts with '01'":''}}
                </div>
                
            </div>
        </div>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="gender">Gender</label>
                <select id="gender" name="gender" class="form-select" formControlName="gender" 
                    [ngClass]="((usergenderx.touched&&usergenderx.invalid) || (submitted&& usergenderx.hasError('required')))
                    ? 'is-invalid' : '' || ((usergenderx.touched || usergenderx.invalid)&& !usergenderx.invalid)
                    ?  'is-valid' : '' " >
                    <option disabled>-- select gender --</option>
                    <option vlaue="female">Female</option>
                    <option value="male">Male</option>
                </select>
                <div class="invalid-feedback">
                    {{((usergenderx.touched&&usergenderx.invalid) || (submitted&& usergenderx.hasError('required')))?"This field is reqired":''}}
                </div>
            </div>
            <div class="col-sm-5">
                <label class="form-lable" for="bloodtype">Blood Type</label>
                <select class="form-select" name="bloodtype" id="bloodtype" formControlName="bloodType">
                    <option disabled value="-- Select Your Blood Type-- "></option>
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>
            </div>
        </div>
        <div class="row p-3 justify-content-around">
            <div class="col-sm-5">
                <label class="form-lable" for="address">Address</label>
                <input class="form-control" type="text" name="address" id="address" formControlName="address" />
            </div>
            <div class="col-sm-5">
                <label class="form-lable" for="image">image</label>
                <input class="form-control" (change)="uploadfile($event)" type="file" name="image" id="image" formControlName="image" />
            </div>
        </div>
        <div class="submitting p-3">
            <input type="submit" value="Register" class="btn px-5 btn-primary">
        </div>
        <div class="p-3">
            <p class="login">
                <span>
                <i class="message"> "Already have an account?"</i>
                <a routerLink="../login"> <input style="color:blue" type="button" class="btn" value="log in "/></a>
                </span>
            </p>
        </div>
    </form>
  </div>
</div>
<div class="alert alert-danger alert-dismissible errormes" role="alert" [ngClass]="{'errorshow':errormess}">
    {{mess}}
</div>
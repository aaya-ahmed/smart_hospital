 <div class="contents">
    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-md-8 py-2">
                <form  class="form " #signForm="ngForm" [formGroup]="signup" (ngSubmit)="submit(signForm);">
                    <div class="image-header">
                        <img src="assets/Jcf.svg">
                        <h3>Add Patient</h3>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-6">
                            <label class="form-lable" for="firstName">First Name</label>
                            <input class="form-control" type="text" name="firstName" required id="firstName" formControlName="firstName" required
                            [ngClass]="((userfirstnamex.touched && userfirstnamex.invalid)||(submitted&&userfirstnamex.hasError('required')))
                            ? 'is-invalid' : '' || userfirstnamex.hasError('pattern')
                            ? 'is-invalid' : '' || userfirstnamex.hasError('minlength') 
                            ? 'is-invalid' : '' || userfirstnamex.hasError('maxlength') 
                            ? 'is-invalid' : '' || (userfirstnamex.touched&& !userfirstnamex.invalid)
                            ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((userfirstnamex.touched && userfirstnamex.invalid)||(submitted&&userfirstnamex.hasError('required')))?"This field is reqired":''}}
                                {{userfirstnamex.hasError('minlength')?"Minimum Name length is 3":''}}
                                {{userfirstnamex.hasError('maxlength')?"Maxiumim Name length is 25":''}}
                                {{userfirstnamex.hasError('pattern')?" Only letters are allowed":''}}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-lable" for="patientlname">Family Name</label>
                            <input class="form-control" type="text" name="patientlname" id="patientlname" formControlName="lastName" 
                            [ngClass]="((userlastnamex.touched && userlastnamex.invalid)||(submitted&& userlastnamex.hasError('required')))
                            ? 'is-invalid' : '' || userlastnamex.hasError('pattern')
                            ? 'is-invalid' : '' || userlastnamex.hasError('minlength') 
                            ? 'is-invalid' : '' || userlastnamex.hasError('maxlength') 
                            ? 'is-invalid' : '' || (userlastnamex.touched && !userlastnamex.invalid)
                            ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((userlastnamex.touched && userlastnamex.invalid)||(submitted&& userlastnamex.hasError('required')))?"This field is reqired":''}}
                                {{userlastnamex.hasError('minlength')?"Minimum Name length is 7":''}}
                                {{userlastnamex.hasError('maxlength')?"Maxiumim Name length is 25":''}}
                                {{userlastnamex.hasError('pattern')?" Only letters are allowed":''}}
                            </div>
                        </div>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-6">
                            <label class="form-lable" for="username">User Name</label>
                            <input class="form-control" type="text" name="username" id="username" formControlName="userName" 
                            [ngClass]="((usernamex.touched && usernamex.invalid)||(submitted&& usernamex.hasError('required')))
                            ? 'is-invalid' : '' || usernamex.hasError('pattern')
                            ? 'is-invalid' : '' || usernamex.hasError('minlength') 
                            ? 'is-invalid' : '' || (usernamex.touched && !usernamex.invalid)
                            ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((usernamex.touched && usernamex.invalid)||(submitted&& usernamex.hasError('required')))?"This field is reqired":''}}
                                {{usernamex.hasError('pattern')?" Only letters and/or numbers are allowed":''}}
                                {{usernamex.hasError('minlength')?"Minumuim length is 5 number/letter ":''}}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-lable" for="password">Password</label>
                            <input class="form-control" type="password" aria-describedby="password-hint" name="password" formControlName="password" 
                            id="password" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required/>
                            <div class="err-mes" *ngIf="((userpassx?.touched &&userpassx?.invalid)||(submitted && userpassx.errors?.['required']))  ">Please Enter your password </div>
                            <div class="err-mes" *ngIf="(userpassx?.touched && signForm?.['submitted']) && userpassx.errors?.['pattern'] ">password must contain at least 8-characters, including UPPER/lowercase and numbers</div>
                        </div>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-6">
                            <label class="form-lable" for="age">Age</label>
                            <input class="form-control" type="text" name="age" id="age" formControlName="age" 
                            [ngClass]="((useragex.touched && useragex.invalid )||(submitted&& useragex.hasError('required')))
                            ? 'is-invalid' : '' || useragex.hasError('pattern')
                            ? 'is-invalid' : '' || useragex.hasError('min') 
                            ? 'is-invalid' : '' || useragex.hasError('max') 
                            ? 'is-invalid' : '' || (useragex.touched && !useragex.invalid)
                            ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((useragex.touched && useragex.invalid )||(submitted&& useragex.hasError('required')))?"This field is reqired":''}}
                                {{useragex.hasError('min')?" Can only be between 1 and 150 year ":''}}
                                {{useragex.hasError('max')?"Can only be between 1 and 120 year":''}}
                                {{useragex.hasError('pattern')?"Can only accept numbers between 1 and 120 year":''}}
                            </div>   
                        </div>
                        <div class="col-sm-6">
                            <label for="nationalId">National Id:</label>
                            <input type="number" min="0" (change)="validationntionalid($event)" id="nationalId" name="nationalId" class="form-control" placeholder="Enter your id" formControlName="nationalId"
                            [ngClass]="((usernationalidx.touched && usernationalidx.invalid)||(submitted&& usernationalidx.hasError('required')))
                            ? 'is-invalid' : '' ||( usernationalidx.hasError('pattern')||!nationalidflag)
                            ? 'is-invalid' : '' || usernationalidx.hasError('minlength') 
                            ? 'is-invalid' : '' || usernationalidx.hasError('maxlength') 
                            ? 'is-invalid' : '' || (usernationalidx.touched && !usernationalidx.invalid)
                            ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((usernationalidx.touched && usernationalidx.invalid)||(submitted&& usernationalidx.hasError('required')))?"This field is reqired":''}}
                                {{usernationalidx.hasError('minlength')?" Must Contain 14 number ":''}}
                                {{usernationalidx.hasError('maxlength')?"Must Contain 14 number":''}}
                                {{usernationalidx.hasError('pattern')||!nationalidflag?" Invalid National ID":''}}
                            </div>
                        </div>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-6">
                            <label class="form-lable" for="email">Email</label>
                            <input class="form-control" type="email" name="email" id="email" formControlName="mail" 
                            [ngClass]=" usermailx.hasError('email')
                            ? 'is-invalid' : '' || ((usermailx.touched && usermailx.invalid))
                            ||(usermailx.touched&&!usermailx.invalid)? 'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{usermailx.hasError('email')?"Invalid Email":''}}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-lable" for="phone">Phone Number</label>
                            <input class="form-control" type="tel" name="phone" id="phone" formControlName="phoneNumber" 
                                [ngClass]="((userphonex.touched && userphonex.invalid) ||(submitted&& userphonex.hasError('required')))
                                ? 'is-invalid' : '' || userphonex.hasError('pattern')
                                ? 'is-invalid' : '' || userphonex.hasError('minlength') 
                                ? 'is-invalid' : '' || userphonex.hasError('maxlength') 
                                ? 'is-invalid' : '' || (userphonex.touched &&!userphonex.invalid)
                                ?  'is-valid' : '' " />
                            <div class="invalid-feedback">
                                {{((userphonex.touched && userphonex.invalid) ||(submitted&& userphonex.hasError('required')))?"This field is reqired":''}}
                                {{userphonex.hasError('minlength')?"Must contain  11 number":''}}
                                {{userphonex.hasError('maxlength')?"Must contain  11 number":''}}
                                {{userphonex.hasError('pattern')?"(Must contain 11 number starts with '01'":''}}
                            </div>
                            
                        </div>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-6">
                            <label class="form-lable" for="gender">Gender</label>
                            <select id="gender" name="gender" class="form-select" formControlName="gender" 
                                [ngClass]="((usergenderx.touched && usergenderx.invalid )||(submitted&& usergenderx.hasError('required')))
                                ? 'is-invalid' : '' 
                                || (usergenderx.touched &&!usergenderx.invalid)?  'is-valid' : '' " >
                                <option disabled>-- select gender --</option>
                                <option vlaue="female">Female</option>
                                <option value="male">Male</option>
                            </select>
                            <div class="invalid-feedback">
                                {{((usergenderx.touched && usergenderx.invalid )||(submitted&& usergenderx.hasError('required')))?"This field is reqired":''}}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="form-lable" for="bloodtype">Blood Type</label>
                            <select class="form-select" name="bloodtype" id="bloodtype" formControlName="bloodType">
                                <option disabled value="-- Select Your Blood Type-- "></option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                    </div>
                    <div class="row p-3 justify-content-center">
                        <div class="col-sm-12">
                            <label class="form-lable" for="address">Address</label>
                            <input class="form-control" type="text" name="address" id="address" formControlName="address" />
                        </div>
                    </div>
                    <div class="row justify-content-center submitting p-3">
                        <div class="col-sm-4">
                            <input type="submit" value="Add Patient" class="btn px-5 btn-primary">
                        </div>
                    </div>
                </form>
                <div class="alert alert-success alert-dismissible  sucessmes" role="alert" [ngClass]="{'successshow':successflag}">
                    <strong>success !</strong>
                  </div>
                <div class="alert alert-danger alert-dismissible   errormes" role="alert" [ngClass]="{'errorshow':errorflag}">
                    username is token
                  </div>
            </div>
        </div>
    </div>
</div> 
